<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" th:inline="javascript">
	function checkIdClose() {
		var id = /*[[${id}]]*/ "aa";
		// opener : 현재 브라우저의 부모 브라우저를 관리하는 내장 객체
		opener.frm.id.value = id;
		window.close(); // 현재 브라우저 닫기
		opener.frm.pwd.focus();
	}
</script>
</head>
<body>
<!-- id가 존재할 때 -->
<th:block th:if="${isExist}">
	[[${id}]]는 사용중 입니다.<br><br>
	<form action="/user/checkId" method="get">
		아이디 <input type="text" name="id" placeholder="이메일 형식으로 입력">
		<input type="submit" value="중복 체크">
	</form>
</th:block>

<!-- id가 존재하지 않을 때 -->
<th:block th:if="${!isExist}">
	[[${id}]]는 사용 가능합니다.<br><br>
	<input type="button" value="사용" onclick="checkIdClose()">
</th:block>
</body>
</html>